app.service("clientesService",["$http",function(e){return{clientes:function(t,n){return e({method:"POST",url:dir_api+"/clientes/index",data:$.param({pag:t,filter:n}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},cliente:function(t){return e({method:"GET",url:dir_api+"/clientes/"+t+"/show",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},addCliente:function(t){return e({method:"POST",url:dir_api+"/clientes/create",data:$.param(t),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},editCliente:function(t){return e({method:"PUT",url:dir_api+"/clientes/update",data:$.param(t),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},deleteCliente:function(t){return e({method:"DELETE",url:dir_api+"/clientes/"+t+"/delete",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getMails:function(){return e({method:"GET",url:dir_api+"/clientes/mails",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},list:function(t){var n=dir_api+"/clientes/"+t+"/list";return e.get(n).then(function(e){var t=[];for(var n in e.data.DATA)t.push(e.data.DATA[n]);return t})}}}]);
app.service("colaImpresionService",["$http",function(e){var o=[];return{impresiones:function(o){return e({method:"GET",url:dir_api+"/colaImpresion/"+o+"/index",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},addModeloImpresion:function(o,n){return e({method:"POST",url:dir_api+"/colaImpresion/create",data:$.param(o,n),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},deleteModeloImpresion:function(o){return e({method:"DELETE",url:dir_api+"/colaImpresion/"+o+"/delete",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},deleteModeloImpresionPedido:function(o){return e({method:"DELETE",url:dir_api+"/colaImpresion/"+o+"/deletePedido",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},deleteModeloImpresionProduccion:function(o){return e({method:"DELETE",url:dir_api+"/colaImpresion/"+o+"/deleteProduccion",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getModelos:function(){return o},setModelos:function(e){o=e}}}]);
app.factory("AlertService",["$rootScope","$timeout",function(n,t){var e;return e=void 0,n.alerts=[],n.loading=null,e={add:function(o,l,r){n.alerts.push({type:o,msg:l,close:function(){return e.closeAlert(this)}}),r&&t(function(){e.closeAlert(this)},r)},closeAlert:function(t){return this.closeAlertIdx(n.alerts.indexOf(t))},closeAlertIdx:function(t){return n.alerts.splice(t,1)},clear:function(){n.alerts=[]},loading:function(t){return e.closeLoading(),void 0===t&&(t="Cargando ..."),n.loading=this.add("warning",t)},closeLoading:function(){return e.closeAlert(n.loading),n.loading=null}}}]);
app.service("gastosService",["$http",function(e){return{gastos:function(a,t,r){return e({method:"POST",url:dir_api+"/gastos/index",data:$.param({desde:a,hasta:t,categorias_id:r}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},addGasto:function(a){return e({method:"POST",url:dir_api+"/gastos/create",data:$.param(a),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},deleteGasto:function(a){return e({method:"DELETE",url:dir_api+"/gastos/"+a+"/delete",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},categorias:function(){return e({method:"GET",url:dir_api+"/categorias/index",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},addCategoria:function(a){return e({method:"POST",url:dir_api+"/categorias/create",data:$.param(a),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},deleteCategoria:function(a){return e({method:"DELETE",url:dir_api+"/categorias/"+a+"/delete",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getCategoriasByName:function(a){return e({method:"GET",url:dir_api+"/categorias/"+a+"/categoriasByName",headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]);
app.factory("AuthService",["$http","Session","AlertService",function(e,t,r){return{login:function(r){return e({method:"POST",url:dir_api+"/sesion",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param(r)}).then(function(e){t.create(e.data.DATA.id,e.data.DATA.nombre,e.data.DATA.perfil)})},logout:function(){return e({method:"GET",url:dir_api+"/sesion/logout",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){t.destroy(),r.add("success",e.data.MSG,1e3)})},isAuthenticated:function(){return!!t.getUserId()},isAuthorized:function(e){angular.isArray(e)||(e=[e]);var r=this.isAuthenticated(),o=-1!=e.indexOf(t.getUserRole());return r&&o}}}]),app.service("Session",["AlertService","$rootScope",function(e){return this.create=function(t,r,o){"undefined"!=typeof Storage?(localStorage.userId=t,localStorage.userName=r,localStorage.userRole=o):e.add("danger","El navegador no soporta sessionStorage",5e3)},this.destroy=function(){localStorage.userId=null,localStorage.userName=null,localStorage.userRole=null},this.getUserName=function(){var e="null"!=localStorage.userName?localStorage.userName:"";return e},this.getUserId=function(){return localStorage.userId},this.getUserRole=function(){return localStorage.userRole},this}]),app.factory("AuthInterceptor",["$rootScope","$q","AUTH_EVENTS",function(e,t,r){return{responseError:function(o){return 401===o.status&&e.$broadcast(r.notAuthenticated,o),403===o.status&&e.$broadcast(r.notAuthorized,o),(419===o.status||440===o.status)&&e.$broadcast(r.sessionTimeout,o),t.reject(o)}}}]);
app.service("pedidosespecialesService",["$http",function(e){return{pedidos:function(d,i,a){return e({method:"POST",url:dir_api+"/pedidosespeciales/index",data:$.param({estado:d,pag:i,filter:a}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},addPedido:function(d){return e({method:"POST",url:dir_api+"/pedidosespeciales/create",data:$.param(d),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},editPedido:function(d){return e({method:"PUT",url:dir_api+"/pedidosespeciales/update",data:$.param(d),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},deletePedido:function(d){return e({method:"DELETE",url:dir_api+"/pedidosespeciales/"+d+"/delete",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pagosPedido:function(d){return e({method:"GET",url:dir_api+"/pedidosespeciales/"+d+"/pagos",headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]);
app.service("clientesPMService",["$http",function(e){return{clientes:function(t,n){return e({method:"POST",url:dir_api+"/clientesPM/index",data:$.param({pag:t,filter:n}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},nombresClientes:function(){return e({method:"GET",url:dir_api+"/clientesPM/clientesName",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},cliente:function(t){return e({method:"GET",url:dir_api+"/clientesPM/"+t+"/show",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},addCliente:function(t){return e({method:"POST",url:dir_api+"/clientesPM/create",data:$.param(t),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},editCliente:function(t){return e({method:"PUT",url:dir_api+"/clientesPM/update",data:$.param(t),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},deleteCliente:function(t){return e({method:"DELETE",url:dir_api+"/clientesPM/"+t+"/delete",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},tienePermiso:function(t){return e({method:"GET",url:dir_api+"/clientesPM/"+t+"/tienePermiso",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},enviarMail:function(t){return e({method:"PUT",url:dir_api+"/clientesPM/enviarmail",data:$.param(t),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getClienteByName:function(t){return e({method:"GET",url:dir_api+"/clientesPM/"+t+"/clienteByName",headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]).service("pedidosService",["$http",function(e){return{pedidos:function(t,n,r){return e({method:"POST",url:dir_api+"/pedidos/index",data:$.param({estado:t,pag:n,filter:r}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},addPedido:function(t){return e({method:"POST",url:dir_api+"/pedidos/create",data:$.param(t),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},editPedido:function(t){return e({method:"PUT",url:dir_api+"/pedidos/update",data:$.param(t),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},deletePedido:function(t){return e({method:"DELETE",url:dir_api+"/pedidos/"+t+"/delete",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},modelosPedido:function(t){return e({method:"GET",url:dir_api+"/pedidos/"+t+"/modelos",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pagosPedido:function(t){return e({method:"GET",url:dir_api+"/pedidos/"+t+"/pagos",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},confirmarPedido:function(t,n){return e({method:"POST",url:dir_api+"/pedidos/confirm",data:$.param({pedido:t,token:n}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]);
app.service("responsablesService",["$http",function(e){return{responsables:function(r,n){return e({method:"POST",url:dir_api+"/responsables/index",data:$.param({pag:r,filter:n}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},addRes:function(r){return e({method:"POST",url:dir_api+"/responsables/create",data:$.param(r),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},editRes:function(r){return e({method:"PUT",url:dir_api+"/responsables/update",data:$.param(r),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},deleteRes:function(r){return e({method:"DELETE",url:dir_api+"/responsables/"+r+"/delete",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},nombresResponsables:function(){return e({method:"GET",url:dir_api+"/responsables/listAll",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getResponsableByName:function(r){return e({method:"GET",url:dir_api+"/responsables/"+r+"/responsableByName",headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]).service("produccionesService",["$http",function(e){return{producciones:function(r,n,o){return e({method:"POST",url:dir_api+"/producciones/index",data:$.param({estado:r,pag:n,filter:o}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},addProduccion:function(r){return e({method:"POST",url:dir_api+"/producciones/create",data:$.param(r),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},editProduccion:function(r){return e({method:"PUT",url:dir_api+"/producciones/update",data:$.param(r),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},deleteProduccion:function(r){return e({method:"DELETE",url:dir_api+"/producciones/"+r+"/delete",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},modelosProduccion:function(r){return e({method:"GET",url:dir_api+"/producciones/"+r+"/modelos",headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]);
app.service("productosService",["$http",function(o){return{productos:function(){return o({method:"GET",url:dir_api+"/productos/index",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},addProducto:function(e){return o({method:"POST",url:dir_api+"/productos/create",data:$.param(e),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getProducto:function(e){return o({method:"GET",url:dir_api+"/productos/"+e+"/show",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getProductoModelo:function(e){return o({method:"GET",url:dir_api+"/productos/"+e+"/productoModeloById",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getProductoModeloByName:function(e){return o({method:"GET",url:dir_api+"/productos/"+e+"/productoModeloByName",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},editProducto:function(e){return o({method:"PUT",url:dir_api+"/productos/update",data:$.param(e),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},deleteProducto:function(e){return o({method:"DELETE",url:dir_api+"/productos/"+e+"/delete",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},reponerProducto:function(e){o({method:"POST",url:dir_api+"/productos/reponer",data:$.param({idMod:e}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(){return!0}).error(function(){return!1})},nombresProductos:function(e){return o({method:"GET",url:dir_api+"/productos/productosName",data:$.param({enProduccion:e}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},nombresProductosDisponibles:function(){return o({method:"GET",url:dir_api+"/productos/productosDisponibles",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},prodsPedido:function(e){return o({method:"GET",url:dir_api+"/pedidosdeclientes/"+e+"/productos",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getproductos:function(e,r){return o({method:"POST",url:dir_api+"/productos/productos",data:$.param({pag:e,filter:r}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},habilitarProducto:function(e,r){return o({method:"POST",url:dir_api+"/productos/habilitarproducto",data:$.param({idProd:e,habilitar:r}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},habilitarModelo:function(e,r){return o({method:"POST",url:dir_api+"/productos/habilitarmodelo",data:$.param({idMod:e,habilitar:r}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},movimientos:function(e,r,t,d){return o({method:"POST",url:dir_api+"/productos/seguimiento",data:$.param({id:e,desde:r,hasta:t,page:d}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]);
app.service("resumenService",["$http",function(e){return{resumen:function(r,a){return e({method:"POST",url:dir_api+"/resumen/index",data:$.param({desde:r,hasta:a}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},detalle:function(r,a,n){return e({method:"POST",url:dir_api+"/resumen/detalle",data:$.param({desde:r,hasta:a,fp:n}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]);
app.service("loginService",["$http",function(n){return{login:function(e,i,o){n({method:"POST",url:dir_api+"/sesion",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param(e)}).success(function(n){i(n)}).error(function(n){o(n)})}}}]);
app.service("usuariosService",["$http",function(e){return{usuarios:function(r){return e({method:"GET",url:dir_api+"/usuarios/index",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e){r(e.DATA)})},addUsuario:function(r){return e({method:"POST",url:dir_api+"/usuarios/create",data:$.param(r),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},editUsuario:function(r){return e({method:"PUT",url:dir_api+"/usuarios/update",data:$.param(r),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},deleteUsuario:function(r){return e({method:"DELETE",url:dir_api+"/usuarios/"+r+"/delete",headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]);
app.service("ventasService",["$http",function(e){return{ventas:function(a,t,n,r){return e({method:"POST",url:dir_api+"/ventas/index",data:$.param({desde:a,hasta:t,conDeuda:n,pag:r}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},addVenta:function(a){return e({method:"POST",url:dir_api+"/ventas/create",data:$.param(a),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},editVenta:function(a){return e({method:"PUT",url:dir_api+"/ventas/update",data:$.param(a),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},deleteVenta:function(a){return e({method:"DELETE",url:dir_api+"/ventas/"+a+"/delete",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pagosVenta:function(a){return e({method:"GET",url:dir_api+"/ventas/"+a+"/pagos",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},devolucionesVenta:function(a){return e({method:"GET",url:dir_api+"/ventas/"+a+"/devoluciones",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},addPago:function(a,t){return e({method:"POST",url:dir_api+"/ventas/addPago",data:$.param({pago:a,idVenta:t}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},deletePago:function(a){return e({method:"DELETE",url:dir_api+"/ventas/"+a+"/deletePago",data:$.param(a),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},actualizarNota:function(a,t){return e({method:"POST",url:dir_api+"/ventas/addNota",data:$.param({nota:a,idVenta:t}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]),app.service("notasService",["$http",function(e){return{notas:function(a,t){return e({method:"POST",url:dir_api+"/notas/index",data:$.param({desde:a,hasta:t}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},addNota:function(a){return e({method:"POST",url:dir_api+"/notas/create",data:$.param(a),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},deleteNota:function(a){return e({method:"DELETE",url:dir_api+"/notas/"+a+"/delete",headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]);