function formatLocalDate(){var t=new Date,e=(-t.getTimezoneOffset(),function(t){return norm=Math.abs(Math.floor(t)),(10>norm?"0":"")+norm});return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDate())}var app=angular.module("app",["ngRoute","xeditable","ui.bootstrap"]);app.constant("AUTH_EVENTS",{loginSuccess:"auth-login-success",loginFailed:"auth-login-failed",logoutSuccess:"auth-logout-success",sessionTimeout:"auth-session-timeout",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"}),app.constant("USER_ROLES",{all:"*",admin:"admin",taller:"taller",local:"local",cuentas:"cuentas"}),app.run(["editableOptions",function(t){t.theme="bs3"}]),app.run(["$rootScope","$route","$location","AUTH_EVENTS","USER_ROLES","AuthService",function(t,e,a,n,o,u){t.$on("$locationChangeStart",function(o){var i=a.path(),r=e.routes[i];if("undefined"!=typeof r&&r.auth.needAuth){var s=r.auth.authorizedRoles;u.isAuthorized(s)||(u.isAuthenticated()?(t.$broadcast(n.notAuthorized),o.preventDefault()):t.$broadcast(n.notAuthenticated))}})}]),app.run(function(){var t=/INPUT|SELECT|TEXTAREA/i;$(document).bind("keydown keypress",function(e){8==e.which&&(!t.test(e.target.tagName)||e.target.disabled||e.target.readOnly)&&e.preventDefault()})});