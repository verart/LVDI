app.controller("modalPdfPedidoCtrl",["$scope","$modalInstance","$sce","$filter","pedido",function(t,e,o,r,n){var i=new jsPDF("portrait","mm","a4");i.setFont("helvetica"),i.setFontSize(18),i.text(13,19,"Los Vados del Isen"),i.setFontSize(9),i.setTextColor(100),i.text(13,24,"Dirección: Araoz 2918 - Capital Federal"),i.text(13,28,"Tel: 4802-8969"),i.text(13,32,"Mail: losvadosdelisen@hotmail.com"),row=32,i.setTextColor(0,0,0),i.setLineWidth(.3),i.line(10,36,200,36),row+=17,i.setFontSize(12),i.setFontType("bold"),i.text(15,row,"Cliente: "),i.setFontType("normal"),i.text(33,row,n.datosCliente.nombre),i.setFontType("bold"),i.text(120,row,"Fecha de entrega: "),i.setFontType("normal"),i.text(160,row,r("date")(n.fecha_entrega,"dd/MM/yyyy")||"Sin datos"),i.setFontType("bold"),row+=6,i.setFontSize(10),i.text(15,row,"Localidad: "),i.setFontType("normal"),i.text(37,row,n.datosCliente.localidad||"Sin datos"),row+=10,i.setLineWidth(.1),i.setDrawColor(100,100,100),i.line(21,row,190,row),i.setFontSize(11),i.setFontType("bold"),row+=5,i.text(25,row,"Descripción"),i.text(130,row,"Cant."),i.text(150,row,"P. Unit."),i.text(170,row,"P. Tot."),row+=3,i.line(21,row,190,row),pageHeight=i.internal.pageSize.height,pageHeight-=25,i.setLineWidth(.05),i.setDrawColor(200),i.setFontSize(11),i.setFontType("normal"),n.modelos.forEach(function(t){row+=5;var e=t.precio*t.cantidad;i.text(25,row,t.nombre),i.text(132,row,t.cantidad.toString()),i.text(150,row,r("currency")(t.precio)),i.text(170,row,r("currency")(e.toString())),row+=3,i.line(21,row,190,row),row+5>=pageHeight&&(i.addPage(),row=20,i.setLineWidth(.05),i.setDrawColor(200),i.setFontSize(11),i.setFontType("normal"))}),row+28>=pageHeight&&(i.addPage(),row=20),row+=12,i.setFontType("bold"),i.text(25,row,"Subtotal: "),i.setFontType("normal"),i.text(50,row,r("currency")(n.total)),row+=7,i.setFontType("bold"),i.text(25,row,"Bonif. : "),i.text(50,row,n.bonificacion.toString()+"%"),row+=3,i.setDrawColor(0),i.line(23,row,90,row),i.setFontSize(13);var a=n.total*n.bonificacion/100,l=n.total-a;row+=6,i.setFontType("bold"),i.text(25,row,"Total: "),i.text(50,row,r("currency")(l.toString()));var s=o.trustAsResourceUrl(i.output("datauristring"));t.pdfOutput=s,t.ok=function(){e.close()}}]);