app.controller("ApplicationController",["$scope","$rootScope","USER_ROLES","AUTH_EVENTS","AuthService","Session","$location","$interval",function(o,t,n,e,i,a,c,r){o.usuario=a,o.stop=r(function(){var o=document.getElementById("logo");o.src="img/LVDI_s.png?rand="+Math.random()},9e5),t.activeTab=c.$$path.replace("/",""),t.$on(e.notAuthorized,function(){console.log("No autorizado"),o.logout()}),t.$on(e.notAuthenticated,function(){console.log("No autenticado"),o.logout()}),void 0==o.usuario&&(a.destroy(),o.stop=void 0),o.logout=function(){a.destroy(),i.logout(),o.stop=void 0,c.path("/login")},o.refreshActiveTab=function(o){t.activeTab=o}}]),app.controller("loginCtrl",["$scope","$rootScope","$location","AUTH_EVENTS","AuthService","Session",function(o,t,n,e,i,a){o.credentials={usuario:"",clave:"",aviso:""},o.login=function(c){i.login(c).then(function(){t.$broadcast(e.loginSuccess),"cuentas"==a.getUserRole()?(n.path("/resumen"),t.activeTab="resumen"):(n.path("/productos"),t.activeTab="productos")},function(i){t.$broadcast(e.loginFailed),o.aviso=i.data.MSG,n.path("/login")})}}]);