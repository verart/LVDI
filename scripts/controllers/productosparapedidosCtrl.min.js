app.controller("productosparapedidosCtrl",["$scope","$modal","$filter","productosService","$log","AlertService",function(t,a,o,d,r,n){return t.order="-nombre",t.textAdd={0:"Agregar",1:"Quitar"},t.alerts=[],t.page=0,t.data=[],t.parar=!1,t.pending=!1,t.filterSubmitted="",t.cargarProductos=function(){t.page++,t.pending=!0,d.getproductos(t.page,t.filterSubmitted).then(function(a){if(a.data.DATA.length>0)for(i=0;i<a.data.DATA.length;i++)t.data.push(a.data.DATA[i]);else t.data.length>0&&$(".finProductos").html('<div class="fin"></div>'),t.parar=!0;t.pending=!1},function(a){t.pending=!1,n.add("danger",a.data.MSG),$location.path("/login")})},t.cargarProductos(),t.filtrarProductos=function(){t.parar=!1,t.data=[],t.page=0,t.filterSubmitted=t.query,t.cargarPruductos()},t.habilitar=function(a,i){var r,e=o("getById")(t.data,a);r=1==e.modelos[i].pedido?0:1,d.habilitarModelo(e.modelos[i].id,r).then(function(){e.modelos[i].pedido=r},function(t){n.add("danger",t.data.MSG)})},t.habilitarTodos=function(a,i){var r=o("getById")(t.data,a);d.habilitarProducto(r.id,i).then(function(){r.modelos.forEach(function(t){t.pedido=i})},function(t){n.add("danger",t.data.MSG)})},$("#infinite-scrolling").size()>0?void $(window).on("scroll",function(){$(window).scrollTop()>$(document).height()-$(window).height()-60&!t.parar&!t.pending&&t.cargarProductos()}):void 0}]);