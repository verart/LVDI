app.controller("resumenCtrl",["$scope","$modal","resumenService","AlertService","$filter","AuthService",function(a,e,t,r,o,s){a.alerts=[],fechaHoy=formatLocalDate(),a.value="hoy",a.desde=fechaHoy,a.hasta=fechaHoy,$(window).unbind("scroll"),a.cargar=function(){t.resumen(a.desde,a.hasta).then(function(e){a.resumenVentas={tarjeta:parseFloat(e.data.DATA.resumenVentas.Tarjeta,10),debito:parseFloat(e.data.DATA.resumenVentas.Debito,10),cheque:parseFloat(e.data.DATA.resumenVentas.Cheque,10),efectivo:parseFloat(e.data.DATA.resumenVentas.Efectivo,10)},a.resumenPorMayor={tarjeta:{total:parseFloat(e.data.DATA.resumenPorMayor.Tarjeta.total,10),pagos:e.data.DATA.resumenPorMayor.Tarjeta.pagos},transfVictor:{total:parseFloat(e.data.DATA.resumenPorMayor["Transf. Victor"].total,10),pagos:e.data.DATA.resumenPorMayor["Transf. Victor"].pagos},transfFede:{total:parseFloat(e.data.DATA.resumenPorMayor["Transf. Fede"].total,10),pagos:e.data.DATA.resumenPorMayor["Transf. Fede"].pagos},cheque:{total:parseFloat(e.data.DATA.resumenPorMayor.Cheque.total,10),pagos:e.data.DATA.resumenPorMayor.Cheque.pagos},efectivo:{total:parseFloat(e.data.DATA.resumenPorMayor.Efectivo.total,10),pagos:e.data.DATA.resumenPorMayor.Efectivo.pagos}},a.resumenGastos={tarjeta:parseFloat(e.data.DATA.resumenGastos.Tarjeta,10),debito:parseFloat(e.data.DATA.resumenGastos.Debito,10),cheque:parseFloat(e.data.DATA.resumenGastos.Cheque,10),efectivo:parseFloat(e.data.DATA.resumenGastos.Efectivo,10),transferencia:parseFloat(e.data.DATA.resumenGastos.Transferencia,10)}},function(){s.logout()})},a.loadDetalle=function(e){t.detalle(a.desde,a.hasta,e).then(function(t){switch(e){case"Efectivo":a.resumenPorMayor.efectivo.pagos=t.data.DATA;break;case"Tarjeta":a.resumenPorMayor.tarjeta.pagos=t.data.DATA;break;case"Cheque":a.resumenPorMayor.cheque.pagos=t.data.DATA;break;case"Tranf. Victor":a.resumenPorMayor.transfVictor.pagos=t.data.DATA;break;case"Tranf. Fede":a.resumenPorMayor.transfFede.pagos=t.data.DATA}},function(){})},a.cargar()}]);